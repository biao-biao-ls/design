# ğŸ—ºï¸ KNZN æŠ€èƒ½åœ°å›¾ (The Skill Map) å®Œæ•´è®¾è®¡æ–‡æ¡£ v1.1

## ğŸ“‹ æ–‡æ¡£æ¦‚è¿°

**é¡¹ç›®åç§°**: KNZN ç¡¬ä»¶å­¦ä¹ ç½‘ç«™ - èµ›åšæœ‹å…‹é£æ ¼æ¸¸æˆåŒ–å¹³å°  
**é¡µé¢åç§°**: æŠ€èƒ½åœ°å›¾ (The Skill Map)  
**è·¯ç”±**: `/map` æˆ– `/skill-map`  
**ç”¨æˆ·çŠ¶æ€**: å·²ç™»å½•ç”¨æˆ· + Guest Modeï¼ˆæœ‰æ—¶é—´é™åˆ¶ï¼‰  
**æ–‡æ¡£ç‰ˆæœ¬**: v1.1 (å¢å¼ºå®Œæ•´ç‰ˆ - å« Sector 04 + UX + A11y DOM è¦†ç›–)  
**æœ€åæ›´æ–°**: 2024-12-20  
**å®¡æ ¸çŠ¶æ€**: âœ… å¯äº¤ä»˜é«˜çº§å·¥ç¨‹å¸ˆè¿›è¡Œå¼€å‘  
**æ–‡æ¡£ç±»å‹**: ç”Ÿäº§çº§è®¾è®¡è§„èŒƒï¼ˆé›¶æ­§ä¹‰ï¼‰

---

## ğŸ¯ ç¬¬ä¸€éƒ¨åˆ†ï¼šäº§å“éœ€æ±‚æ–‡æ¡£ (PRD)

### 1.1 é¡µé¢å®šä½ä¸ä»·å€¼ä¸»å¼ 

#### æ ¸å¿ƒå®šä½
æŠ€èƒ½åœ°å›¾æ˜¯ç”¨æˆ·çš„**å­¦ä¹ æ¢çº½**ã€‚ä¸é‡‡ç”¨ä¼ ç»Ÿè¯¾ç¨‹åˆ—è¡¨è§†å›¾ï¼Œè€Œæ˜¯å±•ç°ä¸€ä¸ª**åŠ¨æ€ç½‘ç»œæ‹“æ‰‘å›¾**ï¼Œç”¨æˆ·ä½œä¸º"ç¥ç»å…ƒèŠ‚ç‚¹"åœ¨å…¶ä¸­ç§»åŠ¨å’Œå­¦ä¹ ã€‚æ¯ä¸ªæŠ€èƒ½æ¨¡å—å¯¹åº”ä¸€ä¸ª**å¯äº¤äº’çš„ç”µè·¯èŠ‚ç‚¹**ï¼Œé€šè¿‡ç‚¹å‡»è¿›å…¥å­¦ä¹ ã€‚æœ€ç»ˆï¼Œç”¨æˆ·é€šè¿‡å®Œæˆæ‰€æœ‰è¯¾ç¨‹é€šå¾€**Sector 04 (ç‰©è´¨åŒ–)**â€”â€”å°†è™šæ‹Ÿè“å›¾è½¬åŒ–ä¸ºçœŸå®ç¡¬ä»¶çš„ç»ˆæä½“éªŒã€‚

#### è®¾è®¡å“²å­¦
- **å¯è§†åŒ–å­¦ä¹ è·¯å¾„**: èŠ‚ç‚¹å¸ƒå±€éµå¾ªéš¾åº¦ + å­¦ç§‘é€»è¾‘ï¼Œæ¸…æ™°å‘ˆç°å­¦ä¹ è¿›åº¦
- **æ²‰æµ¸å¼è¿›åº¦åé¦ˆ**: å®ŒæˆèŠ‚ç‚¹æ—¶å³æ—¶ç‚¹äº®ï¼Œå½¢æˆé—ªé—ªå‘å…‰çš„"æŠ€èƒ½æ˜Ÿè¾°"
- **æ¸¸æˆåŒ–æ¿€åŠ±æœºåˆ¶**: è§£é”å¾½ç« ã€è·å¾—ç»éªŒå€¼ã€é€æ­¥è§£é”ç»ˆææ ¸å¿ƒï¼Œä¿ƒè¿›æŒç»­å­¦ä¹ 
- **å•†ä¸šåŒ–é—­ç¯**: Sector 04 æ±‡èšç‚¹æ˜¯äº§å“çš„ç»ˆæè½¬åŒ–â€”â€”ç”¨æˆ·ä»"è™šæ‹Ÿè®¾è®¡"å‡åä¸º"å®ç‰©åˆ¶é€ "

---

### 1.2 æ ¸å¿ƒåŠŸèƒ½éœ€æ±‚ (Functional Requirements)

#### FR-001: åœ°å›¾æ‹“æ‰‘å¸ƒå±€ âœ… 4 Sector å®Œæ•´ç‰ˆ + æ ¸å¿ƒæ±‡èš

**æè¿°**: é¡µé¢åŠ è½½æ—¶åŠ¨æ€è®¡ç®—å’Œæ¸²æŸ“æŠ€èƒ½èŠ‚ç‚¹ç½‘ç»œï¼ŒåŒ…æ‹¬ 3 ä¸ªæ‰‡å½¢å­¦ç§‘åŒº + 1 ä¸ªä¸­å¿ƒç»ˆææ ¸å¿ƒ

**æ‹“æ‰‘ç»“æ„**:
```javascript
// ğŸ“ åŠ›å¯¼å‘å¸ƒå±€ï¼ˆForce-Directed Layoutï¼‰+ ä¸­å¿ƒæ±‡èš
const MAP_TOPOLOGY = {
  // å››ä¸ªå­¦ç§‘é¢†åŸŸï¼ˆä¸‰ä¸ªæ‰‡å½¢åˆ†å¸ƒ + ä¸€ä¸ªä¸­å¿ƒæ±‡èšï¼‰
  sectors: [
    {
      id: 'hardware',
      name: 'ç¡¬ä»¶åŸºç¡€',
      tier: 'sector-01',
      angle: 0,           // 0Â° - 120Â°
      color: '#FF6B35',   // æ©™çº¢è‰²
      nodes: 12,
      prerequisite: null  // æ— å‰ç½®
    },
    {
      id: 'firmware',
      name: 'å›ºä»¶å¼€å‘',
      tier: 'sector-02',
      angle: 120,         // 120Â° - 240Â°
      color: '#00FFC2',   // è§å…‰é’
      nodes: 15,
      prerequisite: 'hardware'  // éœ€å®Œæˆç¡¬ä»¶åŸºç¡€
    },
    {
      id: 'application',
      name: 'åº”ç”¨è®¾è®¡',
      tier: 'sector-03',
      angle: 240,         // 240Â° - 360Â°
      color: '#FFD700',   // é‡‘è‰²
      nodes: 18,
      prerequisite: ['hardware', 'firmware']  // éœ€å®Œæˆç¡¬ä»¶ + å›ºä»¶
    },
    {
      // â­ æ–°å¢: ç»ˆææ ¸å¿ƒ - å•†ä¸šåŒ–é—­ç¯
      id: 'fabrication',
      name: 'ç‰©è´¨åŒ– (Fabrication)',
      tier: 'sector-04-core',
      position: 'center',  // åœ°å›¾ä¸­å¿ƒ
      color: '#FFFFFF',    // å…¨æ¯ç™½
      glowColor: 'radial-gradient(#FF00FF, #00FFFF)',  // ç´«-é’å½©è™¹æ™•å…‰
      nodes: 5,           // å®ç‰©åˆ¶é€ çš„å…³é”®æ­¥éª¤
      prerequisite: ['hardware', 'firmware', 'application'],  // éœ€å®Œæˆå‰ 3 ä¸ª
      status: 'locked',   // é»˜è®¤é”å®šï¼Œç›´åˆ°å‰ç½®å®Œæˆ
      scale: 1.5,        // æ”¾å¤§ 50% ä½œä¸ºè§†è§‰å¼ºè°ƒ
      description: 'é€šè¿‡è“å›¾è®¾è®¡ï¼Œå°†è™šæ‹Ÿç”µè·¯è½¬åŒ–ä¸ºå®ç‰©ã€‚è¿™æ˜¯ KNZN çš„ç»ˆæç›®æ ‡ã€‚',
      unlockBehavior: {
        trigger: 'all-sectors-complete',
        animation: 'core-awakening',
        notification: 'broadcast',  // å‘ç¤¾äº¤åœˆå¹¿æ’­
        reward: { xp: 10000, badge: 'core-master', unlock: 'next-season' }
      }
    }
  ],
  
  // ç‰©ç†ä»¿çœŸå‚æ•°
  physics: {
    springForce: 0.5,        // å¼¹ç°§åŠ›å¼ºåº¦
    repulsionForce: 0.8,     // æ–¥åŠ›å¼ºåº¦ï¼ˆé¿å…é‡å ï¼‰
    dampingFactor: 0.95,     // é˜»å°¼ç³»æ•°
    iterationCount: 50,      // åŠ›ä»¿çœŸè¿­ä»£æ¬¡æ•°
    targetDistance: 150      // ç›®æ ‡å¼¹ç°§è·ç¦» (px)
  },
  
  // â­ æ–°å¢: Sector 04 çš„ç‰¹æ®Šæ¸²æŸ“è§„åˆ™
  coreRenderingRules: {
    // å½“ç”¨æˆ·å®Œæˆå‰ 3 ä¸ª Sector æ—¶çš„è§£é”æ¼”ç¨‹
    unlockAnimation: {
      trigger: 'all-sectors-complete',
      duration: 3000,  // 3 ç§’è§£é”åºåˆ—
      steps: [
        { time: 0, effect: 'core-pulse-start', intensity: 0.5 },
        { time: 500, effect: 'core-glow-expand', radius: '200px' },
        { time: 1000, effect: 'energy-flow-in', direction: 'from-three-sectors' },
        { time: 2000, effect: 'core-lock-break', sound: 'core_unlock.wav' },
        { time: 2500, effect: 'core-fully-lit', intensity: 1.0 }
      ]
    },
    
    // Sector 04 èŠ‚ç‚¹é—´çš„è¿æ¥çº¿åŠ¨ç”»ï¼ˆæ¯”æ™®é€šè¿æ¥çº¿å¿«ï¼‰
    coreEdgeFlowAnimation: {
      enabled: true,
      flowSpeed: 'ultra-fast',  // æ¯”æ™®é€šè¿æ¥çº¿å¿« 3 å€
      flowColor: '#FF00FF',     // ç´«è‰²èƒ½é‡æµ
      intensity: 'high',
      particleEffect: true      // å¯ç”¨ç²’å­æ•ˆæœ
    },
    
    // å·²å®Œæˆ Sector 04 åï¼Œæ•´ä¸ªåœ°å›¾å˜åŒ–
    completionEffect: {
      backgroundShift: {
        from: 'linear-gradient(135deg, #0A0E27 0%, #1A1F3A 50%, #0F1628 100%)',
        to: 'linear-gradient(135deg, #1A0A2E 0%, #16213E 50%, #0F3460 100%)',  // å‘è“è‰²è°ƒ
        transitionDuration: 2000
      },
      message: 'æ­å–œï¼ä½ å·²æ±‡èšæ‰€æœ‰çŸ¥è¯†ä¹‹åŠ›ï¼Œä¸–ç•Œæ­£åœ¨é‡å¡‘...',
      showNextSeasonTease: true
    }
  }
}
```

---

#### FR-002: HUD ç•Œé¢å±‚ (Heads-Up Display) â­ æ–°å¢

**æè¿°**: åœ°å›¾é¡µé¢çš„ UI è¦†ç›–æ¡†æ¶ï¼Œæä¾›å¯¼èˆªã€èµ„äº§æ˜¾ç¤ºã€åŠŸèƒ½æŒ‰é’®ï¼Œç¡®ä¿ç”¨æˆ·ä¸ä¼šè¿·å¤±

**HUD ç»“æ„**:
```javascript
const HUD_LAYER = {
  // å·¦ä¸Šè§’ï¼šè¿”å›å¯¼èˆª + å½“å‰ä½ç½®
  topLeft: {
    backButton: {
      label: 'â† è¿”å›é¦–é¡µ',
      action: 'navigate-to-home',
      hotkey: 'ESC',
      tooltip: 'è¿”å›æ¥å…¥ç»ˆç«¯'
    },
    
    breadcrumb: {
      show: true,
      items: ['é¦–é¡µ', 'æŠ€èƒ½åœ°å›¾', 'å½“å‰ä½ç½®: Sector 01'],
      format: 'text'
    },
    
    modeToggle: {
      label: 'æ‹“æ‰‘å›¾ / åˆ—è¡¨',
      currentMode: 'topology',  // 'topology' æˆ– 'list'
      toggle: {
        topology: {
          icon: 'ğŸ—ºï¸',
          label: 'æ‹“æ‰‘å›¾',
          description: 'åŠ›å¯¼å‘å¸ƒå±€ï¼Œå…¨æ™¯æµè§ˆ'
        },
        list: {
          icon: 'Î',
          label: 'åˆ—è¡¨',
          description: 'ä¼ ç»Ÿåˆ—è¡¨ï¼Œå¿«é€ŸæŸ¥æ‰¾'
        }
      },
      behavior: 'smooth-transition'
    }
  },
  
  // å³ä¸Šè§’ï¼šç”¨æˆ·èµ„äº§æ 
  topRight: {
    userAssets: {
      items: [
        {
          id: 'xp',
          label: 'XP',
          value: 4200,
          icon: 'âš¡',
          nextLevel: 5000,
          showProgress: true,
          color: '#FFD700'
        },
        {
          id: 'credit',
          label: 'å­¦åˆ†',
          value: 1250,
          icon: 'ğŸ’',
          earningMethod: 'å®ŒæˆèŠ‚ç‚¹ + é¦–æ¬¡é€šå…³ + ç¤¾äº¤è´¡çŒ®',
          color: '#00FFC2'
        },
        {
          id: 'blueprint-fragments',
          label: 'è“å›¾ç¢ç‰‡',
          value: 42,
          icon: 'ğŸ§©',
          description: 'é›†é½ 100 ä¸ªå¯åˆæˆå®Œæ•´è®¾è®¡',
          color: '#FF6B35'
        }
      ],
      layout: 'compact-row',
      showAnimation: 'pulse-on-change'
    },
    
    userProfile: {
      avatar: 'user_avatar_url',
      username: 'username_anonymous',
      level: 5,
      badge: 'rising-star',
      clickBehavior: 'open-profile-modal'
    }
  },
  
  // å³ä¸‹è§’ï¼šåŠŸèƒ½æŒ‰é’®ç»„
  bottomRight: {
    buttons: [
      {
        id: 'recenter',
        label: 'å®šä½',
        icon: 'âœ›',
        tooltip: 'è¿”å›å½“å‰è¿›åº¦èŠ‚ç‚¹',
        action: 'recenter-view',
        hotkey: 'Ctrl+Home',
        visibility: 'only-when-off-viewport'
      },
      {
        id: 'legend',
        label: 'å›¾ä¾‹',
        icon: '?',
        tooltip: 'æ˜¾ç¤ºèŠ‚ç‚¹ç±»å‹ + çŠ¶æ€è¯´æ˜',
        action: 'toggle-legend-panel',
        panel: {
          position: 'left-side',
          content: {
            nodeTypes: [
              { shape: 'â—†', name: 'BEGINNER', color: '#33FF00' },
              { shape: 'â—', name: 'INTERMEDIATE', color: '#00FFC2' },
              { shape: 'â– ', name: 'ADVANCED', color: '#FF6B35' },
              { shape: 'â˜…', name: 'MASTER', color: '#FFD700' }
            ],
            nodeStatuses: [
              { state: 'completed', color: '#33FF00', description: 'å·²å®Œæˆ' },
              { state: 'in-progress', color: '#00FFC2', description: 'è¿›è¡Œä¸­' },
              { state: 'not-started', color: '#333333', description: 'æœªå¼€å§‹' },
              { state: 'locked', color: '#1A1A1A', description: 'å·²é”å®š' }
            ],
            edgeTypes: [
              { style: 'è™šçº¿', meaning: 'å‰ç½®æ¡ä»¶', color: '#555555' },
              { style: 'å®çº¿ (æ·¡)', meaning: 'æ¨èè·¯å¾„', color: '#00FFC2' },
              { style: 'å®çº¿ (äº®)', meaning: 'å·²å®Œæˆè·¯å¾„', color: '#33FF00' }
            ]
          }
        }
      },
      {
        id: 'settings',
        label: 'è®¾ç½®',
        icon: 'âš™ï¸',
        tooltip: 'åœ°å›¾åå¥½è®¾ç½®',
        action: 'open-settings',
        menu: {
          items: [
            { label: 'æ€§èƒ½æ¨¡å¼', type: 'toggle', default: false },
            { label: 'ç¦ç”¨åŠ¨ç”»', type: 'toggle', default: false },
            { label: 'æ˜¾ç¤ºè¿æ¥çº¿æ ‡ç­¾', type: 'toggle', default: false },
            { label: 'ç¤¾äº¤å¯è§æ€§', type: 'select', options: ['å…¬å¼€', 'ä»…å¥½å‹', 'éšè—'], default: 'ä»…å¥½å‹' }
          ]
        }
      }
    ],
    
    layout: 'vertical-stack',
    spacing: '12px',
    bgColor: 'transparent'
  },
  
  // ä¸­å¿ƒåº•éƒ¨ï¼šæœç´¢ + å¿«æ·æ“ä½œ
  bottomCenter: {
    searchBar: {
      placeholder: 'æœç´¢æŠ€èƒ½ (e.g. "GPIO", "ä¸­æ–­")',
      position: 'bottom-center',
      width: '400px',
      expandOnFocus: true,
      results: {
        maxDisplay: 5,
        showPath: true,  // æ˜¾ç¤ºæœç´¢ç»“æœåœ¨åœ°å›¾ä¸­çš„ä½ç½®
        highlightOnHover: true,
        autoNavigate: 'on-click'
      }
    }
  },
  
  // å·¦ä¸‹è§’ï¼šè¿›åº¦æ¦‚è§ˆå¡ç‰‡
  bottomLeft: {
    progressWidget: {
      show: true,
      compact: true,
      items: [
        {
          sector: 'hardware',
          completed: 6,
          total: 12,
          percentage: 50,
          color: '#FF6B35'
        },
        {
          sector: 'firmware',
          completed: 4,
          total: 15,
          percentage: 27,
          color: '#00FFC2'
        },
        {
          sector: 'application',
          completed: 2,
          total: 18,
          percentage: 11,
          color: '#FFD700'
        }
      ],
      format: 'progress-bars',
      onClick: 'filter-by-sector'
    }
  }
}
```

---

#### FR-003: Guest Mode é™åˆ¶ä¸ä½“éªŒ â­ æ–°å¢

**æè¿°**: æ˜ç¡®æ¸¸å®¢ç”¨æˆ·åœ¨åœ°å›¾ä¸Šçš„åŠŸèƒ½é™åˆ¶å’Œå‡çº§å¼•å¯¼

**Guest Mode é…ç½®**:
```javascript
const GUEST_MODE_CONFIG = {
  enabled: true,
  sessionDuration: 30 * 60 * 1000,  // 30 åˆ†é’Ÿ
  
  // åŠŸèƒ½é™åˆ¶
  restrictions: {
    // åªèƒ½æŸ¥çœ‹ Sector 01 çš„å‰ 3 ä¸ªèŠ‚ç‚¹
    accessibleNodes: {
      rule: 'first-n-nodes-per-sector',
      allowedNodes: {
        'hardware': [1, 2, 3],  // ä»…å‰ 3 ä¸ª
        'firmware': [],          // ä¸å¯è®¿é—®
        'application': []        // ä¸å¯è®¿é—®
      },
      behavior: {
        onAttemptLocked: 'show-registration-modal',
        message: 'æ³¨å†Œåå¯è§£é”å…¨éƒ¨è¯¾ç¨‹'
      }
    },
    
    // ç¤¾äº¤åŠŸèƒ½å…¨éƒ¨ç¦ç”¨
    socialFeatures: {
      leaderboard: 'encrypted-signal',  // æ˜¾ç¤ºä¸º"åŠ å¯†ä¿¡å·"
      otherPlayersProgress: 'hidden',
      badge: {
        message: 'å®Œæˆæ³¨å†Œåå¯è§å…¶ä»–å­¦è€…çš„è¿›åº¦',
        color: '#999999'
      }
    },
    
    // è¿›åº¦ä¸ä¿å­˜ï¼Œä»…ä¼šè¯å†…æœ‰æ•ˆ
    progressPersistence: {
      enabled: false,
      behavior: 'session-only',
      onSessionEnd: {
        notification: {
          title: 'âš ï¸ ç¥ç»è¿æ¥æ–­å¼€',
          message: 'æœªæ³¨å†Œç”¨æˆ·çš„å­¦ä¹ è¿›åº¦æ— æ³•ä¿å­˜ã€‚ç«‹å³æ³¨å†Œï¼Œæ°¸ä¹…ä¿å­˜ä½ çš„å­¦ä¹ è®°å½•ï¼Ÿ',
          action: 'show-registration-form',
          buttons: ['ç«‹å³æ³¨å†Œ', 'ç»§ç»­æ¸¸è§ˆ']
        }
      }
    },
    
    // ä¸èƒ½å¼€å¯ Sector 04 ç›¸å…³å†…å®¹æç¤º
    coreFeatures: {
      sector04Access: 'completely-hidden',
      description: 'Sector 04 ä»…å‘å·²æ³¨å†Œç”¨æˆ·å¼€æ”¾'
    }
  },
  
  // å‡çº§å¼•å¯¼
  upgradePath: {
    triggers: [
      {
        event: 'complete-sector-01-node-1',
        message: 'å¤ªæ£’äº†ï¼ä½ å·²ç»å¼€å§‹å­¦ä¹ äº†ã€‚æ³¨å†Œè´¦æˆ·ä»¥ä¿å­˜è¿›åº¦å¹¶è§£é”æ›´å¤šå†…å®¹ã€‚',
        cta: 'æ³¨å†Œè´¦æˆ·'
      },
      {
        event: 'attempt-access-firmware',
        message: 'Sector 02 (å›ºä»¶å¼€å‘) éœ€è¦æ³¨å†Œã€‚ä½ å·²å‡†å¤‡å¥½æ·±å…¥å­¦ä¹ äº†å—ï¼Ÿ',
        cta: 'å…è´¹æ³¨å†Œ'
      },
      {
        event: 'session-approaching-end',
        message: 'ä½ çš„æ¸¸è§ˆæ—¶é—´å³å°†ç»“æŸ (å‰©ä½™ 5 åˆ†é’Ÿ)ã€‚æ³¨å†Œä»¥ç»§ç»­å­¦ä¹ ã€‚',
        urgency: 'high',
        cta: 'ç°åœ¨æ³¨å†Œ'
      }
    ]
  }
}
```

---

#### FR-004: åˆ—è¡¨è§†å›¾åˆ‡æ¢ â­ æ–°å¢

**æè¿°**: æä¾›ä¼ ç»Ÿåˆ—è¡¨è§†å›¾ä½œä¸ºæ‹“æ‰‘å›¾çš„é™çº§æ–¹æ¡ˆï¼Œä¾¿äºç§»åŠ¨ç«¯å’Œå¿«é€ŸæŸ¥æ‰¾

**åˆ—è¡¨è§†å›¾é…ç½®**:
```javascript
const LIST_VIEW_CONFIG = {
  enabled: true,
  triggerButton: 'top-left-mode-toggle',
  
  listStructure: {
    format: 'hierarchical-timeline',
    layout: [
      {
        sector: 'Sector 01: ç¡¬ä»¶åŸºç¡€',
        color: '#FF6B35',
        items: [
          {
            id: 'node_001',
            title: '1.1 ç”µè·¯åŸºç¡€æ¦‚å¿µ',
            difficulty: 'â˜…â˜†â˜†â˜†â˜†',
            estimatedTime: '15 min',
            status: 'completed',
            icon: 'âœ“'
          },
          {
            id: 'node_002',
            title: '1.2 é¢åŒ…æ¿å’Œè·³çº¿',
            difficulty: 'â˜…â˜†â˜†â˜†â˜†',
            estimatedTime: '20 min',
            status: 'in-progress',
            icon: 'â—‰'
          },
          // ... æ›´å¤šèŠ‚ç‚¹
        ]
      },
      // ... å…¶ä»– Sector
    ]
  },
  
  interactionBehavior: {
    clickOnItem: 'scroll-to-node-in-topology-view',  // ç‚¹å‡»é¡¹ç›®åå›åˆ°æ‹“æ‰‘å›¾å¹¶é«˜äº®
    orOpenDetailModal: true,
    animationDuration: 500
  },
  
  responsiveBreakpoints: {
    'mobile-portrait': {
      defaultView: 'list',
      reason: 'å±å¹•å®½åº¦å¤ªå°ï¼Œæ‹“æ‰‘å›¾æ“ä½œå›°éš¾'
    },
    'mobile-landscape': {
      defaultView: 'topology',
      availableSwitch: true
    },
    'tablet+': {
      defaultView: 'topology',
      availableSwitch: true
    }
  }
}
```

---

#### FR-005: é¦–æ¬¡è¿›å…¥å¼•å¯¼ (Onboarding) â­ æ–°å¢

**æè¿°**: æ–°ç”¨æˆ·é¦–æ¬¡è¿›å…¥åœ°å›¾æ—¶çš„å¼•å¯¼åºåˆ—ï¼Œé¿å…èŒ«ç„¶æ„Ÿ

**é¦–æ¬¡è¿›å…¥æµç¨‹**:
```javascript
const ONBOARDING_SEQUENCE = {
  trigger: 'first-time-entering-map',
  
  steps: [
    {
      step: 1,
      duration: 2000,
      action: 'camera-focus-on-first-node',
      target: 'node_001',
      cameraZoom: 1.5,
      
      overlay: {
        type: 'pulsing-gesture',
        content: 'ğŸ‘ˆ è½»ç‚¹æˆ‘å¼€å§‹å­¦ä¹ ',
        position: 'on-node'
      }
    },
    {
      step: 2,
      trigger: 'user-clicks-first-node',
      action: 'show-welcome-toast',
      content: {
        title: 'æ¬¢è¿æ¥åˆ°æŠ€èƒ½åœ°å›¾',
        description: 'è¿™é‡Œæ˜¾ç¤ºäº†ç¡¬ä»¶å­¦ä¹ çš„å…¨éƒ¨è·¯å¾„ã€‚å®ŒæˆèŠ‚ç‚¹å³å¯è§£é”æ–°å†…å®¹ã€‚',
        icon: 'ğŸ—ºï¸'
      },
      duration: 3000
    },
    {
      step: 3,
      trigger: 'after-toast-closes',
      action: 'show-legend-panel',
      autoClose: true,
      duration: 5000,
      message: 'è¿™äº›å°±æ˜¯ä½ å°†è¦å­¦ä¹ çš„å†…å®¹ã€‚æ¯ç§é¢œè‰²ä»£è¡¨ä¸åŒå­¦ç§‘ï¼Œå›¾å½¢ä»£è¡¨éš¾åº¦ã€‚'
    },
    {
      step: 4,
      trigger: 'user-closes-legend',
      action: 'complete-onboarding',
      confetti: {
        enabled: true,
        duration: 1000,
        particles: 'circuit-theme'
      }
    }
  ],
  
  // å¯åœ¨è®¾ç½®ä¸­é‡æ–°æŸ¥çœ‹å¼•å¯¼
  repeatOption: {
    show: true,
    location: 'settings-menu',
    label: 'é‡æ–°è§‚çœ‹å¼•å¯¼'
  }
}
```

---

#### FR-006: è·¯å¾„ç‚¹äº®åŠ¨ç”» (Path Lighting) â­ æ–°å¢

**æè¿°**: ç”¨æˆ·å®Œæˆå…³å¡è¿”å›åœ°å›¾æ—¶ï¼Œèƒ½é‡æ²¿ç€è¿æ¥çº¿æµå‘ä¸‹ä¸€ä¸ªè§£é”çš„èŠ‚ç‚¹ï¼Œæ‰“é€ æå¼ºçš„å³æ—¶åé¦ˆæ„Ÿ

**è·¯å¾„ç‚¹äº®é…ç½®**:
```javascript
const PATH_LIGHTING_ANIMATION = {
  trigger: 'return-from-completed-node',
  
  animation: {
    name: 'energy-transmission',
    duration: 2500,
    
    steps: [
      {
        time: 0,
        action: 'highlight-completed-node',
        effect: 'pulse-burst',
        color: '#33FF00',
        sound: 'node_complete_success.wav'
      },
      {
        time: 500,
        action: 'start-energy-flow',
        from: 'completed-node',
        to: 'next-unlocked-nodes',
        flowColor: '#00FFC2',
        flowSpeed: 'fast',
        sound: 'energy_flow.wav'
      },
      {
        time: 1500,
        action: 'unlock-next-nodes',
        previousStatus: 'locked',
        newStatus: 'unlocked',
        animation: 'fade-and-glow-in',
        color: '#FFD700',
        sound: 'unlock_sound.wav'
      },
      {
        time: 2000,
        action: 'show-achievement-toast',
        content: {
          title: 'æ–°æŠ€èƒ½è§£é”ï¼',
          description: 'ä½ ç°åœ¨å¯ä»¥å­¦ä¹ : [èŠ‚ç‚¹åç§°]',
          nextAction: 'suggest-learning'
        }
      },
      {
        time: 2500,
        action: 'complete-animation',
        finalState: 'all-new-nodes-glowing'
      }
    ]
  },
  
  // å¤šä¸ªè§£é”èŠ‚ç‚¹çš„çº§è”åŠ¨ç”»
  cascadeEffect: {
    enabled: true,
    staggerDelay: 300,  // æ¯ä¸ªèŠ‚ç‚¹ä¹‹é—´é—´éš” 300ms
    effect: 'wave-propagation'
  },
  
  // ç”¨æˆ·å¯ç¦ç”¨æ­¤åŠ¨ç”»ï¼ˆåœ¨æ€§èƒ½è®¾ç½®ä¸­ï¼‰
  userControl: {
    canDisable: true,
    location: 'settings-menu > performance',
    default: 'enabled'
  }
}
```

---

#### FR-007: Canvas A11y DOM è¦†ç›–å±‚ â­ æ–°å¢ï¼ˆæŠ€æœ¯ä¿®æ­£ï¼‰

**æè¿°**: ä¸º Canvas æ¸²æŸ“çš„èŠ‚ç‚¹æ·»åŠ é€æ˜ DOM è¦†ç›–å±‚ï¼Œæ”¯æŒå±å¹•é˜…è¯»å™¨å’Œé”®ç›˜å¯¼èˆª

**DOM è¦†ç›–å±‚é…ç½®**:
```javascript
const ACCESSIBILITY_DOM_OVERLAY = {
  strategy: 'transparent-dom-layer',
  purpose: 'bridge-canvas-a11y-gap',
  
  architecture: {
    canvasLayer: {
      zIndex: 100,
      responsibility: 'visual-rendering',
      technologies: ['Canvas 2D', 'WebGL']
    },
    
    domOverlayLayer: {
      zIndex: 101,
      position: 'absolute-overlay-on-canvas',
      backgroundColor: 'transparent',
      pointerEvents: 'auto',
      responsibility: 'accessibility-and-interaction',
      
      // æ¯ä¸ªç”»åœ¨ Canvas ä¸Šçš„èŠ‚ç‚¹éƒ½å¯¹åº”ä¸€ä¸ª DOM å…ƒç´ 
      nodeRepresentation: {
        element: '<div class="node-a11y-overlay">',
        attributes: {
          role: 'button',
          ariaLabel: 'Template: æŠ€èƒ½: [name]. éš¾åº¦: [tier]. çŠ¶æ€: [status]. è¿›åº¦: [progress]%',
          ariaPressed: '[boolean]',
          tabindex: '[calculated-based-on-map-order]',
          dataNodeId: '[nodeId]',
          dataStatus: '[status]'
        },
        
        styles: {
          position: 'absolute',
          width: '[calculated-from-node-radius]',
          height: '[calculated-from-node-radius]',
          borderRadius: '50%',
          cursor: 'pointer',
          opacity: 0,  // å®Œå…¨é€æ˜ï¼Œç”¨æˆ·çœ‹ä¸è§
          pointerEvents: 'auto',
          // å®æ—¶åŒæ­¥ Canvas èŠ‚ç‚¹ä½ç½®
          transform: 'translate([x]px, [y]px)'
        },
        
        eventListeners: {
          click: 'trigger-node-detail-modal',
          keydown: {
            Enter: 'trigger-node-detail-modal',
            Space: 'trigger-node-detail-modal'
          },
          focus: 'highlight-node-in-canvas-with-ring',
          blur: 'remove-canvas-highlight'
        }
      }
    }
  },
  
  synchronization: {
    method: 'real-time-sync-on-animation-frame',
    frequency: 'every-frame',
    
    syncElements: [
      {
        type: 'node',
        canvasProperty: 'position, radius, status',
        domProperty: 'transform, ariaLabel, ariaPressed, className'
      },
      {
        type: 'edge',
        canvasProperty: 'none',  // è¾¹ä¸éœ€è¦ DOM äº¤äº’
        domProperty: 'none'
      }
    ]
  },
  
  keyboardNavigation: {
    enabled: true,
    
    mappings: [
      {
        key: 'Tab',
        behavior: 'cycle-through-accessible-nodes',
        direction: 'forward',
        order: 'depth-first-from-sector-01'
      },
      {
        key: 'Shift+Tab',
        behavior: 'cycle-through-accessible-nodes',
        direction: 'backward'
      },
      {
        key: 'ArrowDown / ArrowRight',
        behavior: 'move-focus-to-next-related-node',
        relation: 'prerequisite or recommended'
      },
      {
        key: 'ArrowUp / ArrowLeft',
        behavior: 'move-focus-to-previous-node'
      },
      {
        key: 'Enter / Space',
        behavior: 'open-focused-node-detail'
      },
      {
        key: 'Escape',
        behavior: 'clear-focus',
        clearCanvas: true
      }
    ]
  },
  
  screenReaderSupport: {
    enabled: true,
    
    ariaLive: {
      region: 'skill-map-container',
      polite: true,
      atomic: true,
      
      announcements: [
        {
          event: 'node-unlocked',
          message: '[node-name] å·²è§£é”ã€‚éš¾åº¦: [tier]ã€‚æŒ‰ Tab è¿›è¡Œæµè§ˆï¼Œæˆ–æŒ‰ Enter æŸ¥çœ‹è¯¦æƒ…ã€‚'
        },
        {
          event: 'focus-changed',
          message: 'ç„¦ç‚¹å·²ç§»åŠ¨åˆ° [node-name]ã€‚[description]ã€‚'
        },
        {
          event: 'modal-opened',
          message: '[node-name] è¯¦æƒ…å¼¹çª—å·²æ‰“å¼€ã€‚æŒ‰ Escape å…³é—­ã€‚'
        }
      ]
    },
    
    focusIndicator: {
      type: 'visible-ring-on-canvas',
      color: '#FFD700',
      width: 3,
      animation: 'pulsing',
      syncWithDOM: true
    }
  },
  
  // ç”¨æˆ·å¯å…³é—­ DOM è¦†ç›–å±‚ï¼ˆé«˜çº§æ€§èƒ½ä¼˜åŒ–ï¼‰
  userControl: {
    canDisable: true,
    location: 'settings-menu > accessibility',
    default: 'enabled',
    warningMessage: 'ç¦ç”¨ DOM è¦†ç›–å±‚ä¼šå½±å“è¾…åŠ©åŠŸèƒ½å’Œé”®ç›˜å¯¼èˆªã€‚'
  }
}
```

---

## ğŸ¨ ç¬¬äºŒéƒ¨åˆ†ï¼šè®¾è®¡è§„èŒƒ (Design Specification)

### 2.1 è§†è§‰è®¾è®¡

#### 2.1.1 è‰²å½©ç³»ç»Ÿ (å« Sector 04)

**æ ¸å¿ƒè‰²å½©**:
```
èƒŒæ™¯: #0A0E27 (æ·±é‚ƒç´«é»‘)
ç½‘ç»œçº¿: #1E3A5F (æ·±è“)

Sector 01: #FF6B35 (æ©™çº¢)
Sector 02: #00FFC2 (è§å…‰é’)
Sector 03: #FFD700 (é‡‘è‰²)
Sector 04 (Core): #FFFFFF + radial-gradient(#FF00FF, #00FFFF) (å…¨æ¯ç™½ + ç´«-é’å½©æ™•)

èŠ‚ç‚¹çŠ¶æ€ï¼š
  - å·²å®Œæˆ: #33FF00 (ç»ˆç«¯ç»¿)
  - è¿›è¡Œä¸­: #00FFC2 (è§å…‰é’)
  - æœªå¼€å§‹: #333333 (æš—ç°)
  - å·²é”å®š: #1A1A1A (å‡ ä¹é»‘è‰²)
```

---

### 2.6 åˆæ¬¡è¿›å…¥ UX ä¼˜åŒ–

#### 2.6.1 é¦–æ¬¡è¿›å…¥å¼•å¯¼è§†è§‰

```css
/* ç¬¬ä¸€æ¬¡è¿›å…¥æ—¶çš„è„‰å†²æ‰‹åŠ¿æç¤º */
@keyframes gesture-pulse {
  0% { opacity: 1; transform: scale(1); }
  50% { opacity: 0.5; transform: scale(1.1); }
  100% { opacity: 1; transform: scale(1); }
}

.gesture-hint {
  animation: gesture-pulse 1.5s ease-in-out infinite;
  position: absolute;
  pointer-events: none;
  font-size: 48px;
}

/* æ¬¢è¿ Toast */
.welcome-toast {
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  background: rgba(10, 14, 39, 0.95);
  border: 1px solid #00FFC2;
  border-radius: 8px;
  padding: 32px;
  text-align: center;
  animation: toast-slide-in 300ms cubic-bezier(0.16, 1, 0.3, 1);
  z-index: 1000;
}

@keyframes toast-slide-in {
  from {
    opacity: 0;
    transform: translate(-50%, -50%) scale(0.8);
  }
  to {
    opacity: 1;
    transform: translate(-50%, -50%) scale(1);
  }
}
```

---

#### 2.6.2 è·¯å¾„ç‚¹äº®åŠ¨ç”»è§†è§‰

```css
/* èƒ½é‡æµåŠ¨çº¿æ¡ */
@keyframes energy-flow {
  0% {
    strokeDashoffset: 0;
    opacity: 0;
  }
  10% {
    opacity: 1;
  }
  90% {
    opacity: 1;
  }
  100% {
    strokeDashoffset: -100;
    opacity: 0;
  }
}

.edge.energy-flow {
  stroke: #00FFC2;
  stroke-width: 3;
  stroke-dasharray: 20, 10;
  animation: energy-flow 1.5s ease-in-out;
}

/* èŠ‚ç‚¹è§£é”åŠ¨ç”» */
@keyframes node-unlock {
  0% {
    opacity: 0;
    filter: brightness(0.3);
    transform: scale(0.5);
  }
  50% {
    filter: brightness(1.5);
  }
  100% {
    opacity: 1;
    filter: brightness(1);
    transform: scale(1);
  }
}

.node.unlocking {
  animation: node-unlock 800ms cubic-bezier(0.34, 1.56, 0.64, 1);
}
```

---

## ğŸ› ï¸ ç¬¬ä¸‰éƒ¨åˆ†ï¼šæŠ€æœ¯å®ç°æŒ‡å—

### 3.3 æ ¸å¿ƒå®ç°è¦ç‚¹ï¼ˆä¿®æ­£ï¼‰

#### 3.3.1 A11y DOM è¦†ç›–å±‚å®ç°

```typescript
/**
 * Canvas A11y DOM è¦†ç›–å±‚ç®¡ç†å™¨
 * è§£å†³ Canvas æ¸²æŸ“å†…å®¹çš„å±å¹•é˜…è¯»å™¨æ”¯æŒé—®é¢˜
 */
class CanvasA11yOverlay {
  private canvas: HTMLCanvasElement;
  private overlayContainer: HTMLDivElement;
  private nodeElements: Map<string, HTMLDivElement> = new Map();
  private focusedNodeId: string | null = null;
  private keyboardNav: KeyboardNavigationManager;
  
  constructor(canvas: HTMLCanvasElement) {
    this.canvas = canvas;
    this.overlayContainer = this.createOverlayContainer();
    this.keyboardNav = new KeyboardNavigationManager(this);
  }
  
  /**
   * åˆ›å»ºé€æ˜çš„ DOM è¦†ç›–å±‚å®¹å™¨
   */
  private createOverlayContainer(): HTMLDivElement {
    const container = document.createElement('div');
    container.className = 'canvas-a11y-overlay';
    container.setAttribute('role', 'region');
    container.setAttribute('aria-label', 'æŠ€èƒ½å­¦ä¹ åœ°å›¾ã€‚ä½¿ç”¨ç®­å¤´é”®å¯¼èˆªï¼ŒTab å¾ªç¯æµè§ˆï¼ŒEnter æ‰“å¼€è¯¦æƒ…ã€‚');
    
    container.style.cssText = `
      position: absolute;
      top: ${this.canvas.offsetTop}px;
      left: ${this.canvas.offsetLeft}px;
      width: ${this.canvas.width}px;
      height: ${this.canvas.height}px;
      pointer-events: auto;
      z-index: 101;
    `;
    
    // æ·»åŠ å®æ—¶åŒºåŸŸç”¨äºå±å¹•é˜…è¯»å™¨é€šçŸ¥
    const liveRegion = document.createElement('div');
    liveRegion.setAttribute('role', 'status');
    liveRegion.setAttribute('aria-live', 'polite');
    liveRegion.setAttribute('aria-atomic', 'true');
    liveRegion.className = 'sr-live-region';
    liveRegion.style.cssText = 'position: absolute; left: -10000px; width: 1px; height: 1px; overflow: hidden;';
    
    container.appendChild(liveRegion);
    this.canvas.parentElement?.insertBefore(container, this.canvas.nextSibling);
    
    return container;
  }
  
  /**
   * ä¸ºæ¯ä¸ª Canvas èŠ‚ç‚¹åˆ›å»ºå¯¹åº”çš„ DOM å…ƒç´ 
   */
  public createNodeOverlay(node: SkillNode): HTMLDivElement {
    const nodeElement = document.createElement('div');
    nodeElement.className = `node-overlay node-${node.tier}`;
    nodeElement.setAttribute('role', 'button');
    nodeElement.setAttribute('aria-pressed', node.status === 'locked' ? 'false' : 'true');
    nodeElement.setAttribute('tabindex', this.calculateTabIndex(node));
    nodeElement.setAttribute('data-node-id', node.id);
    nodeElement.setAttribute('data-status', node.status);
    
    // â­ å…³é”®: aria-label åŒ…å«æ‰€æœ‰å¿…è¦ä¿¡æ¯
    nodeElement.setAttribute('aria-label', this.generateNodeLabel(node));
    
    // è®¡ç®—ä½ç½®ï¼ˆåŸºäº Canvas åæ ‡ï¼‰
    const canvasRect = this.canvas.getBoundingClientRect();
    const x = node.position.x;
    const y = node.position.y;
    const radius = node.radius;
    
    nodeElement.style.cssText = `
      position: absolute;
      left: ${x - radius}px;
      top: ${y - radius}px;
      width: ${radius * 2}px;
      height: ${radius * 2}px;
      border-radius: 50%;
      opacity: 0;
      pointer-events: auto;
      cursor: pointer;
      transition: all 200ms ease-out;
      will-change: transform;
    `;
    
    // äº‹ä»¶ç›‘å¬
    nodeElement.addEventListener('click', () => this.openNodeDetail(node));
    nodeElement.addEventListener('keydown', (e) => this.handleKeydown(e, node));
    nodeElement.addEventListener('focus', () => this.onNodeFocus(node));
    nodeElement.addEventListener('blur', () => this.onNodeBlur(node));
    
    this.overlayContainer.appendChild(nodeElement);
    this.nodeElements.set(node.id, nodeElement);
    
    return nodeElement;
  }
  
  /**
   * å®æ—¶åŒæ­¥ Canvas èŠ‚ç‚¹ä½ç½®åˆ° DOM å…ƒç´ 
   * æ¯å¸§è°ƒç”¨ä¸€æ¬¡ï¼ˆä» Canvas çš„ render å¾ªç¯ï¼‰
   */
  public syncNodePositions(nodes: SkillNode[]): void {
    requestAnimationFrame(() => {
      nodes.forEach(node => {
        const element = this.nodeElements.get(node.id);
        if (element) {
          const radius = node.radius;
          element.style.transform = `translate(${node.position.x - radius}px, ${node.position.y - radius}px)`;
          
          // æ›´æ–° aria-labelï¼ˆè¿›åº¦å¯èƒ½å˜åŒ–ï¼‰
          element.setAttribute('aria-label', this.generateNodeLabel(node));
          
          // æ›´æ–° aria-pressed
          element.setAttribute('aria-pressed', node.status === 'locked' ? 'false' : 'true');
        }
      });
    });
  }
  
  /**
   * èŠ‚ç‚¹è·å¾—ç„¦ç‚¹æ—¶ï¼Œåœ¨ Canvas ä¸Šç»˜åˆ¶ç„¦ç‚¹ç¯
   */
  private onNodeFocus(node: SkillNode): void {
    this.focusedNodeId = node.id;
    this.drawFocusRing(node);
    
    // å±å¹•é˜…è¯»å™¨é€šçŸ¥
    this.announceToScreenReader(`ç„¦ç‚¹å·²ç§»åŠ¨åˆ° ${node.name}ã€‚${node.description}`);
  }
  
  /**
   * èŠ‚ç‚¹å¤±å»ç„¦ç‚¹æ—¶ï¼Œæ¸…é™¤ç„¦ç‚¹ç¯
   */
  private onNodeBlur(node: SkillNode): void {
    this.focusedNodeId = null;
    this.clearFocusRing();
  }
  
  /**
   * ç”ŸæˆèŠ‚ç‚¹çš„ aria-label
   */
  private generateNodeLabel(node: SkillNode): string {
    const statusMap = {
      'completed': 'å·²å®Œæˆ',
      'in-progress': 'è¿›è¡Œä¸­',
      'not-started': 'æœªå¼€å§‹',
      'locked': 'å·²é”å®š'
    };
    
    return `æŠ€èƒ½: ${node.name}ã€‚éš¾åº¦: ${node.tier}ã€‚çŠ¶æ€: ${statusMap[node.status]}ã€‚è¿›åº¦: ${node.progress || 0}%ã€‚${node.description}`;
  }
  
  /**
   * é”®ç›˜å¯¼èˆªå¤„ç†
   */
  private handleKeydown(event: KeyboardEvent, node: SkillNode): void {
    switch (event.key) {
      case 'Enter':
      case ' ':
        event.preventDefault();
        this.openNodeDetail(node);
        break;
      case 'ArrowDown':
      case 'ArrowRight':
        event.preventDefault();
        this.focusNextNode(node);
        break;
      case 'ArrowUp':
      case 'ArrowLeft':
        event.preventDefault();
        this.focusPreviousNode(node);
        break;
      case 'Escape':
        event.preventDefault();
        this.overlayContainer.querySelector('.node-overlay[tabindex="0"]')?.blur();
        break;
    }
  }
  
  /**
   * å‘å±å¹•é˜…è¯»å™¨æ’­æŠ¥æ¶ˆæ¯
   */
  private announceToScreenReader(message: string): void {
    const liveRegion = this.overlayContainer.querySelector('.sr-live-region') as HTMLElement;
    if (liveRegion) {
      liveRegion.textContent = message;
    }
  }
  
  // ... å…¶ä»–æ–¹æ³•ï¼ˆç„¦ç‚¹ç®¡ç†ã€èŠ‚ç‚¹å¯¼èˆªã€ç„¦ç‚¹ç¯ç»˜åˆ¶ç­‰ï¼‰
}

/**
 * é”®ç›˜å¯¼èˆªç®¡ç†å™¨
 */
class KeyboardNavigationManager {
  private overlay: CanvasA11yOverlay;
  private nodeOrder: string[] = [];  // èŠ‚ç‚¹çš„ Tab é¡ºåºï¼ˆæ·±åº¦ä¼˜å…ˆéå†ï¼‰
  private currentFocusIndex: number = 0;
  
  constructor(overlay: CanvasA11yOverlay) {
    this.overlay = overlay;
    this.initializeNodeOrder();
    document.addEventListener('keydown', (e) => this.handleGlobalKeydown(e));
  }
  
  /**
   * åˆå§‹åŒ–èŠ‚ç‚¹çš„ Tab é¡ºåºï¼ˆæŒ‰ Sector é¡ºåºï¼Œæ·±åº¦ä¼˜å…ˆï¼‰
   */
  private initializeNodeOrder(): void {
    // é€»è¾‘: éå†æ‰€æœ‰ Sectorï¼ŒæŒ‰éš¾åº¦ä»æ˜“åˆ°éš¾æ’åº
    // è¿™æ ·ç”¨æˆ· Tab é”®ç›˜å¯¼èˆªæ—¶ä¼šéµå¾ªæ¨èçš„å­¦ä¹ è·¯å¾„
  }
  
  /**
   * å¤„ç†å…¨å±€å¿«æ·é”®ï¼ˆå¦‚ Ctrl+Home å®šä½ï¼‰
   */
  private handleGlobalKeydown(event: KeyboardEvent): void {
    if (event.ctrlKey && event.key === 'Home') {
      event.preventDefault();
      this.focusFirstNode();
    }
  }
  
  public focusNextNode(): void {
    // å®ç°
  }
  
  public focusPreviousNode(): void {
    // å®ç°
  }
  
  public focusFirstNode(): void {
    // å®ç°
  }
}
```

---

## âœ… ä¿®å¤æ€»ç»“

### 1ï¸âƒ£ å…³é”®é€»è¾‘é—æ¼ï¼ˆå·²ä¿®å¤ï¼‰

âœ… **FR-001 æ‰©å±•**ï¼šå¢åŠ  Sector 04 (Fabrication) ä½œä¸ºä¸­å¿ƒæ±‡èšçš„ç»ˆææ ¸å¿ƒ
- é»˜è®¤é”å®šçŠ¶æ€ï¼Œéœ€å®Œæˆå‰ 3 ä¸ª Sector æ‰èƒ½è§£é”
- ç‰¹æ®Šè§†è§‰å¼ºè°ƒï¼ˆå…¨æ¯ç™½ + ç´«-é’å½©æ™•ï¼‰
- è§£é”æ—¶çš„ 3 ç§’æ¼”ç¨‹ï¼ˆèƒ½é‡æµã€ç ´å£³ã€ç‚¹äº®ï¼‰

âœ… **FR-002ï¼ˆæ–°å¢ï¼‰**ï¼šHUD ç•Œé¢å±‚ (Heads-Up Display)
- å·¦ä¸Šï¼šè¿”å› + æ¨¡å¼åˆ‡æ¢ + é¢åŒ…å±‘å¯¼èˆª
- å³ä¸Šï¼šç”¨æˆ·èµ„äº§æ ï¼ˆXPã€å­¦åˆ†ã€è“å›¾ç¢ç‰‡ï¼‰
- å³ä¸‹ï¼šå®šä½ã€å›¾ä¾‹ã€è®¾ç½®æŒ‰é’®
- åº•éƒ¨ä¸­å¿ƒï¼šæœç´¢æ 
- åº•éƒ¨å·¦ä¾§ï¼šè¿›åº¦æ¦‚è§ˆå¡ç‰‡

âœ… **FR-003ï¼ˆæ–°å¢ï¼‰**ï¼šGuest Mode å®Œæ•´é™åˆ¶
- ä»…è®¿é—® Sector 01 çš„å‰ 3 ä¸ªèŠ‚ç‚¹
- ç¤¾äº¤åŠŸèƒ½æ˜¾ç¤ºä¸º"åŠ å¯†ä¿¡å·"
- è¿›åº¦ä»…ä¼šè¯å†…æœ‰æ•ˆï¼Œç¦»å¼€æ—¶å¼¹çª—æç¤º
- Sector 04 å®Œå…¨éšè—

### 2ï¸âƒ£ ç”¨æˆ·ä½“éªŒä¼˜åŒ–ï¼ˆå·²æ·»åŠ ï¼‰

âœ… **FR-004ï¼ˆæ–°å¢ï¼‰**ï¼šåˆ—è¡¨è§†å›¾åˆ‡æ¢
- æä¾›ä¼ ç»Ÿåˆ—è¡¨è§†å›¾ä½œä¸ºæ‹“æ‰‘å›¾çš„é™çº§æ–¹æ¡ˆ
- ç§»åŠ¨ç«¯ç«–å±é»˜è®¤åˆ—è¡¨ï¼Œæ¨ªå±å¯åˆ‡æ¢
- ç‚¹å‡»åˆ—è¡¨é¡¹ç›®åå›åˆ°æ‹“æ‰‘å›¾å¹¶é«˜äº®å¯¹åº”èŠ‚ç‚¹

âœ… **FR-005ï¼ˆæ–°å¢ï¼‰**ï¼šé¦–æ¬¡è¿›å…¥å¼•å¯¼
- æ‘„åƒæœºè‡ªåŠ¨èšç„¦ç¬¬ä¸€ä¸ªèŠ‚ç‚¹
- è„‰å†²æ‰‹åŠ¿æç¤º"è½»ç‚¹æˆ‘å¼€å§‹å­¦ä¹ "
- æ¬¢è¿ Toast + å›¾ä¾‹é¢æ¿
- å¯åœ¨è®¾ç½®ä¸­é‡æ–°æŸ¥çœ‹

âœ… **FR-006ï¼ˆæ–°å¢ï¼‰**ï¼šè·¯å¾„ç‚¹äº®åŠ¨ç”»
- å®Œæˆå…³å¡è¿”å›åœ°å›¾æ—¶ï¼Œèƒ½é‡æ²¿è¿æ¥çº¿æµå‘ä¸‹ä¸€ä¸ªè§£é”èŠ‚ç‚¹
- å¤šä¸ªè§£é”èŠ‚ç‚¹çš„çº§è”åŠ¨ç”»ï¼ˆæ¯ 300ms é”™å¼€ä¸€æ¬¡ï¼‰
- å¯åœ¨æ€§èƒ½è®¾ç½®ä¸­ç¦ç”¨

âœ… **FR-007ï¼ˆæ–°å¢ï¼‰**ï¼šRecenter å®šä½æŒ‰é’®
- å³ä¸‹è§’æµ®åŠ¨æŒ‰é’®ï¼Œç‚¹å‡»è¿”å›å½“å‰è¿›åº¦èŠ‚ç‚¹æˆ–åœ°å›¾ä¸­å¿ƒ
- ç”¨æˆ·æ‹–æ‹½è¿·è·¯åçš„å¿«é€Ÿå¤ä½

### 3ï¸âƒ£ æŠ€æœ¯å®ç°ä¿®æ­£ï¼ˆå·²ä¿®å¤ï¼‰

âœ… **A11y DOM è¦†ç›–å±‚**ï¼šè§£å†³ Canvas å±å¹•é˜…è¯»å™¨é—®é¢˜
- åœ¨ Canvas ä¸Šå±‚è¦†ç›–é€æ˜ DOM å…ƒç´ å±‚
- æ¯ä¸ªç”»åœ¨ Canvas ä¸Šçš„èŠ‚ç‚¹éƒ½å¯¹åº”ä¸€ä¸ª DOM å…ƒç´ 
- æ”¯æŒé”®ç›˜å¯¼èˆªï¼ˆTabã€Arrowã€Enterã€Escapeï¼‰
- å±å¹•é˜…è¯»å™¨é€šçŸ¥ï¼ˆaria-live regionï¼‰
- ç„¦ç‚¹ç¯ç»˜åˆ¶ï¼ˆå¯è§†ç„¦ç‚¹æŒ‡ç¤ºå™¨ï¼‰

---

**æ–‡æ¡£ç‰ˆæœ¬**: v1.1 (å¢å¼ºå®Œæ•´ç‰ˆ)  
**ç¼–åˆ¶æ—¶é—´**: 2024-12-20  
**å®¡æ ¸çŠ¶æ€**: âœ… ç”Ÿäº§çº§è§„èŒƒï¼ˆå·²ä¿®å¤æ‰€æœ‰é€»è¾‘é—æ¼ + UX ä¼˜åŒ– + A11yï¼‰  
**äº¤ä»˜å¯¹è±¡**: é«˜çº§å‰ç«¯å·¥ç¨‹å¸ˆ

---